<view class="{{['settle-container','data-v-57d42baa',shopType==='food'?'food-theme':'mall-theme']}}"><view class="settle-header data-v-57d42baa"><u-text class="title data-v-57d42baa" vue-id="a2b0478a-1" text="{{shopType==='mall'?'订单结算':'确认订单'}}" size="36rpx" color="#1a1a1a" fontWeight="600" bind:__l="__l"></u-text></view><view class="delivery-method data-v-57d42baa"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="{{['method-item','data-v-57d42baa',(deliveryMethod==='delivery')?'active':'']}}" bindtap="__e"><u-icon vue-id="a2b0478a-2" name="car" size="40rpx" color="{{deliveryMethod==='delivery'?'#ff7d00':'#999'}}" class="data-v-57d42baa" bind:__l="__l"></u-icon><u-text vue-id="a2b0478a-3" text="同城配送" align="center" size="28rpx" color="#606266" class="data-v-57d42baa" bind:__l="__l"></u-text></view><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="{{['method-item','data-v-57d42baa',(deliveryMethod==='pickup')?'active':'']}}" bindtap="__e"><u-icon vue-id="a2b0478a-4" name="bag" size="40rpx" color="{{deliveryMethod==='pickup'?'#ff7d00':'#999'}}" class="data-v-57d42baa" bind:__l="__l"></u-icon><u-text vue-id="a2b0478a-5" text="门店自取" align="center" size="28rpx" color="#606266" class="data-v-57d42baa" bind:__l="__l"></u-text></view></view><block wx:if="{{deliveryMethod==='delivery'}}"><view data-event-opts="{{[['tap',[['chooseAddress',['$event']]]]]}}" class="address-card data-v-57d42baa" bindtap="__e"><u-icon vue-id="a2b0478a-6" name="map-fill" color="#999" size="120rpx" class="data-v-57d42baa" bind:__l="__l"></u-icon><block wx:if="{{address}}"><view class="address-info data-v-57d42baa"><u-text class="name-phone data-v-57d42baa" vue-id="a2b0478a-7" text="{{address.name+' '+address.phone}}" size="30rpx" color="#1a1a1a" fontWeight="600" customStyle="line-height:1.4" bind:__l="__l"></u-text><u-text class="address-detail data-v-57d42baa" vue-id="a2b0478a-8" text="{{address.province+address.city+address.detail}}" size="26rpx" color="#606266" customStyle="line-height:1.5;word-break:break-all" bind:__l="__l"></u-text></view></block><block wx:else><view class="address-empty data-v-57d42baa"><u-text vue-id="a2b0478a-9" text="请选择收货地址" size="28rpx" color="#909399" class="data-v-57d42baa" bind:__l="__l"></u-text></view></block><u-icon vue-id="a2b0478a-10" name="arrow-right" color="#ccc" size="28rpx" class="data-v-57d42baa" bind:__l="__l"></u-icon></view></block><block wx:if="{{deliveryMethod==='pickup'}}"><view class="pickup-info data-v-57d42baa"><view class="store-info data-v-57d42baa"><u-icon vue-id="a2b0478a-11" name="home" color="#999" size="120rpx" class="data-v-57d42baa" bind:__l="__l"></u-icon><view class="store-detail data-v-57d42baa"><u-text class="store-name data-v-57d42baa" vue-id="a2b0478a-12" text="北京朝阳SOHO店" size="32rpx" color="#1a1a1a" fontWeight="600" bind:__l="__l"></u-text><u-text class="store-address data-v-57d42baa" vue-id="a2b0478a-13" text="朝阳区建国路88号SOHO现代城1层" size="26rpx" color="#606266" customStyle="line-height:1.5;word-break:break-all" bind:__l="__l"></u-text><u-text class="store-phone data-v-57d42baa" vue-id="a2b0478a-14" text="联系电话：010-12345678" size="26rpx" color="#909399" bind:__l="__l"></u-text></view></view><view class="pickup-time data-v-57d42baa"><u-text class="time-label data-v-57d42baa" vue-id="a2b0478a-15" text="自取时间：" size="28rpx" color="#1a1a1a" bind:__l="__l"></u-text><picker mode="time" value="{{pickupTime}}" data-event-opts="{{[['change',[['onTimeChange',['$event']]]]]}}" bindchange="__e" class="data-v-57d42baa"><view class="time-picker data-v-57d42baa"><u-text vue-id="a2b0478a-16" text="{{pickupTime||'请选择时间'}}" size="28rpx" color="#606266" class="data-v-57d42baa" bind:__l="__l"></u-text><u-icon vue-id="a2b0478a-17" name="arrow-right" color="#ccc" size="24rpx" class="data-v-57d42baa" bind:__l="__l"></u-icon></view></picker></view></view></block><view class="goods-list data-v-57d42baa"><view class="list-title data-v-57d42baa"><u-text vue-id="a2b0478a-18" text="{{shopType==='mall'?'商品清单':'菜品清单'}}" size="32rpx" color="#1a1a1a" fontWeight="600" class="data-v-57d42baa" bind:__l="__l"></u-text><u-text class="count data-v-57d42baa" vue-id="a2b0478a-19" text="{{totalCount+'件商品'}}" size="26rpx" color="#909399" bind:__l="__l"></u-text></view><block wx:for="{{cartList}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="goods-item data-v-57d42baa"><u-image class="goods-img data-v-57d42baa" vue-id="{{'a2b0478a-20-'+i}}" width="120rpx" height="120rpx" src="{{item.cover}}" mode="aspectFill" bind:__l="__l"></u-image><view class="goods-info data-v-57d42baa"><u-text class="goods-name data-v-57d42baa" vue-id="{{'a2b0478a-21-'+i}}" text="{{item.name}}" size="30rpx" color="#1a1a1a" fontWeight="500" customStyle="line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden" bind:__l="__l"></u-text><u-text class="goods-spec data-v-57d42baa" vue-id="{{'a2b0478a-22-'+i}}" text="{{item.specText}}" size="24rpx" color="#909399" bind:__l="__l"></u-text><view class="goods-price-count data-v-57d42baa"><u-text class="price data-v-57d42baa" vue-id="{{'a2b0478a-23-'+i}}" text="{{'¥'+item.price}}" size="30rpx" color="var(--primary-color)" fontWeight="600" bind:__l="__l"></u-text><u-text class="count data-v-57d42baa" vue-id="{{'a2b0478a-24-'+i}}" text="{{'x'+item.count}}" size="26rpx" color="#909399" bind:__l="__l"></u-text></view></view></view></block></view><view class="fee-detail data-v-57d42baa"><view class="fee-item data-v-57d42baa"><u-text class="fee-name data-v-57d42baa" vue-id="a2b0478a-25" text="商品总价" size="28rpx" color="#606266" bind:__l="__l"></u-text><u-text class="fee-value data-v-57d42baa" vue-id="a2b0478a-26" text="{{'¥'+$root.g0}}" size="28rpx" color="#1a1a1a" bind:__l="__l"></u-text></view><block wx:if="{{deliveryMethod==='delivery'}}"><view class="fee-item data-v-57d42baa"><u-text class="fee-name data-v-57d42baa" vue-id="a2b0478a-27" text="{{shopType==='food'?'配送费':'运费'}}" size="28rpx" color="#606266" bind:__l="__l"></u-text><u-text class="fee-value data-v-57d42baa" vue-id="a2b0478a-28" text="{{'¥'+deliveryCost}}" size="28rpx" color="#1a1a1a" bind:__l="__l"></u-text></view></block><block wx:if="{{deliveryMethod==='pickup'}}"><view class="fee-item data-v-57d42baa"><u-text class="fee-name data-v-57d42baa" vue-id="a2b0478a-29" text="自取优惠" size="28rpx" color="#606266" bind:__l="__l"></u-text><u-text class="fee-value data-v-57d42baa" vue-id="a2b0478a-30" text="-¥5.00" size="28rpx" color="#ff7d00" bind:__l="__l"></u-text></view></block><view class="fee-item data-v-57d42baa"><u-text class="fee-name data-v-57d42baa" vue-id="a2b0478a-31" text="优惠" size="28rpx" color="#606266" bind:__l="__l"></u-text><u-text class="fee-value data-v-57d42baa" vue-id="a2b0478a-32" text="{{'-¥'+$root.g1}}" size="28rpx" color="#ff7d00" bind:__l="__l"></u-text></view><view class="fee-item total-fee data-v-57d42baa"><u-text class="fee-name data-v-57d42baa" vue-id="a2b0478a-33" text="实付款" size="32rpx" color="#1a1a1a" fontWeight="600" bind:__l="__l"></u-text><u-text class="fee-value data-v-57d42baa" vue-id="a2b0478a-34" text="{{'¥'+$root.g2}}" size="36rpx" color="var(--primary-color)" fontWeight="700" bind:__l="__l"></u-text></view></view><view class="submit-bar data-v-57d42baa"><view class="total-amount data-v-57d42baa"><u-text class="label data-v-57d42baa" vue-id="a2b0478a-35" text="实付：" size="28rpx" color="#606266" bind:__l="__l"></u-text><u-text class="amount data-v-57d42baa" vue-id="a2b0478a-36" text="{{'¥'+$root.g3}}" size="40rpx" color="var(--primary-color)" fontWeight="700" bind:__l="__l"></u-text></view><u-button vue-id="a2b0478a-37" text="{{deliveryMethod==='delivery'?'提交订单':'确认自取'}}" type="primary" color="{{shopType==='mall'?'linear-gradient(90deg, #ff4b7e 0%, #ff3366 100%)':'linear-gradient(90deg, #ff7d00 0%, #ff5700 100%)'}}" data-event-opts="{{[['^click',[['submitOrder']]]]}}" bind:click="__e" class="data-v-57d42baa" bind:__l="__l"></u-button></view></view>